<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css" rel="stylesheet">
    <link href="/styles/userdashboard.css" rel="stylesheet">

</head>
<body>
    <div class="main-window mt-5 mt-sm-0 d-flex flex-column bg-white">
        <div class="text-end mt-sm-5">
            <button class="btn btn-outline-primary border-3 bg-white p-3 px-5 mb-4 back-button me-2 view-button">View</button>
        </div>
        
        <div class="d-flex justify-content-center align-items-center form-container mb-5">
            <div class="mb-5">
                <label for="name" class="form-label">Name</label>
                <input type="text" id="name" class="form-control" name="name">
                <label for="photo" class="form-label mt-3">Photo</label><br/>
                <div id="image-activity" class="image-container">
                    <div id="drop-area" onclick="photoInput.click()" ondragover="highlight(event)" ondragleave="unhighlight(event)" ondrop="handleDropEvent(event)">
                        <input type="file" id="photoInput" name="photo" accept="image/*" onchange="handleFile(event.target.files[0])">
                    </div>
                </div>
                
                <button id="submit-button" type="button" class="btn btn-primary w-100 p-3 my-4" onclick="handleSubmit()">Upload</button>
            </div>
        </div>
    
    </div>

    <div id="overlay" class="mt-5 mt-sm-0"></div>

    <div id="view-window" class="mt-5 mt-sm-0 flex-column bg-white hide">
        <div class="text-end mt-sm-5">
            <button class="btn btn-outline-primary border-3 bg-white p-3 px-5 mb-4 back-button me-2 view-button">Back</button>
        </div>

        <div class="d-flex justify-content-center align-items-center form-container mb-5">
            <div class="mb-5">
                <label for="name" class="form-label">Name</label>
                <span id="name" class="form-control"><%= name %></span>
                <label for="photo" class="form-label mt-3">Photo</label><br/>
                <div class="image-container">
                    <img src= <%= image %> alt="">
                </div>

                <% if (approved) { %>
                    <div class="text-success approved mt-4">Approved by Admin</div>
                <% } else { %>
                    <div class="text-danger approved mt-4">Approval Pending</div>
                <% } %>
                    
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
    <script src="/scripts/userdashboard.js"></script>

</body>
</html>